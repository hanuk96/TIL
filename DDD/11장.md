# CQRS
### 단일 모델의 단점
- 주문 내역 조회라는 기능이 있을때, Order, Product, Member등 다양한 aggregate에서 데이터를 가져와야한다.
- 객체지향으로 구현한 도메인 모델의 경우 상태변경에는 용이하나 다양한 aggregate에서 조회하여 합치는 구현은 복잡하다는 단점이 있다.
- 구현 복잡도를 낮추기위해 상태변경을 윟나 모델과 조회를 위한 모델을 분리하는 CQRS라는 패턴이 있다.

### CQRS
- 시스템이 제공하는 기능을 크게 조회, 상태변경으로 나눌 수 있다.
- 상태를 변경하는 Command, 상태를 제공하는 조회 Query로 구조를 만들 수 있다.
- CQRS를 사용하면 각 모델에 맞는 구현 기술을 선택할 수 있다.
  - 명령 모델은 객체지향에 기반한 JPA를 이용
  - 조회 모델은 SQL로 데이터를 조회할때 좋은 My-batis를 이용

#### 장단점
- 장점:
  - 조회 성능을 위한 코드가 command 모델에 없어, 도메인 로직을 구현하는데 집중할 수 있다.
  - 조회 성능을 향상시키는데 유리하다.
- 단점:
  - 구현해야할 코드가 많다
  - 트래픽이 많지 않은 서비스라면 이점이 있는지 따져볼 필요가 있다.
  - 더 많은 구현 기술이 필요(조회용 저장소라던지, 서비스의 분리라던지)
